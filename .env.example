# -------- Runtime --------
APP_ENV=local
TZ=UTC                         # keep UTC for sane timestamps
LOG_LEVEL=INFO
ENABLE_TELEMETRY=false         # opt-in only
METRIC_EXPORT_INTERVAL_SEC=60

# -------- PostgreSQL --------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=dovah
POSTGRES_USER=dovah_user
POSTGRES_PASSWORD=change_me_in_production

# SQLAlchemy/Alembic DSN
DATABASE_URL=postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -------- Features --------
WINDOW_SIZE_MINUTES=1
SESSION_TIMEOUT_MINUTES=30

# -------- Alerts --------
ALERT_BATCH_SIZE=100
ALERT_MAX_DELAY_MS=1000
LATENCY_SLO_MS=2000             # p95 target
EXPLANATION_COVERAGE_THRESHOLD=0.95

# -------- GenAI --------
GENAI_PROVIDER=openai           # local or cloud
GENAI_MODEL_NAME=gpt-4
GENAI_MAX_TOKENS=500
GENAI_TEMPERATURE=0.7
OPENAI_API_KEY=                 # your key here

# -------- Security --------
TENANT_SALT_KEY=change_me_in_production
HMAC_KEY=change_me_in_production
HMAC_DIGEST=sha256

# -------- AWS / S3 --------
ENABLE_AWS=false               # for Days 8-12
AWS_REGION=eu-west-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

S3_BUCKET_NAME=dovah-evidence
OBJECT_LOCK_MODE=GOVERNANCE
OBJECT_LOCK_RETENTION_DAYS=90

# -------- Streams / Flink --------
ENABLE_KINESIS=false           # MVP: keep off
KINESIS_STREAM_NAME=dovah-events
KINESIS_SHARD_COUNT=1

ENABLE_FLINK=false             # MVP: keep off
FLINK_PARALLELISM=1
FLINK_CHECKPOINTING_INTERVAL=60000

# -------- Model Serving --------
MODEL_SERVING_TYPE=local        # or cloud: sagemaker/ecs/kserve
MODEL_ENDPOINT_NAME=

# Quick key generator:
#   python -c 'import secrets, base64; print("\n".join(f"{k}=" + base64.urlsafe_b64encode(secrets.token_bytes(32)).decode() for k in ["TENANT_SALT_KEY", "HMAC_KEY"]))' 
